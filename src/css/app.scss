// app global css in SCSS form - consolidated and deduped

// Sass color tokens
// `task-blue` is the active item base; `inactive-blue` is the regular menu item base
$task-blue: #0d47a1;
// Match Quasar runtime primary so inactive items derive from the same base
$inactive-blue: #1976d2; // matches :root --q-primary
$menu-bg: $inactive-blue;

/* Global background and text for menus, popovers and dialog inners */
.q-menu,
.q-menu__content,
.q-popover,
.q-select__popup,
.q-dialog__inner {
  background-color: var(--q-primary) !important;
  color: #ffffff !important;
}

/* Menu items & overlays: use a pseudo-element overlay so text/icons remain readable */
.q-menu .q-item {
  position: relative;
  overflow: hidden;
}
.q-menu .q-item::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: transparent;
  z-index: 0;
  transition: background-color 120ms ease !important;
  background-image: none !important;
  mix-blend-mode: normal !important;
  background-blend-mode: normal !important;
  filter: none !important;
  will-change: background-color;
}
.q-menu .q-item > *,
.q-menu .q-item .q-item__section,
.q-menu .q-item .q-item__label,
.q-menu .q-item .q-icon {
  position: relative;
  z-index: 1;
}

/* Ensure no direct backgrounds/filters are applied to items or their children
   so the ::before overlay is the only visual change on hover. This prevents
   any Quasar hover rules from making items brighter. */
.q-menu .q-item,
.q-menu .q-item:hover,
.q-menu .q-item:focus,
.q-menu .q-item--active,
.q-menu .q-item--active:hover,
.q-menu .q-item *,
.q-select__popup .q-item,
.q-select__popup .q-item *,
.q-dialog .q-item,
.q-dialog .q-item * {
  background: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
  filter: none !important;
  mix-blend-mode: normal !important;
}

// Use SCSS colors so hover darkens the base color instead of applying a black overlay.
// `var(--q-primary)` can't be used with `darken()` at compile time, so we set
// a known task-list blue and derive hover colors from it.

.q-menu .q-item.q-item--active::before,
.q-menu .q-item--active::before {
  background-color: $task-blue !important; /* active: task-list blue */
}
.q-menu .q-item:not(.q-item--active):hover::before {
  background-color: darken(
    $inactive-blue,
    6%
  ) !important; /* non-active hover: darken inactive base */
}
.q-menu .q-item.q-item--active:hover::before,
.q-menu .q-item--active:hover::before {
  background-color: darken($task-blue, 8%) !important; /* active+hover: darker active */
}

/* Dialog/card areas use primary + white text */
.q-dialog .q-card,
.q-dialog .q-card-section,
.q-dialog .q-card-actions {
  background-color: var(--q-primary) !important;
  color: #ffffff !important;
}

/* Consolidated input/select/button/icon overrides for popups/menus/dialogs */
/* Targets native inputs, textareas and Quasar select/input internals across the popup/dialog/header contexts. */
.q-dialog .q-card ::v-deep input,
.q-dialog .q-card ::v-deep textarea,
.q-dialog .q-card ::v-deep .q-select__input,
.q-dialog__inner ::v-deep input,
.q-dialog__inner ::v-deep textarea,
.q-dialog__inner ::v-deep .q-select__input,
.q-menu ::v-deep input,
.q-menu ::v-deep textarea,
.q-menu ::v-deep .q-select__input,
.q-select__popup ::v-deep input,
.q-select__popup ::v-deep textarea,
.q-select__popup ::v-deep .q-select__input,
.group-select--header ::v-deep input,
.group-select--header ::v-deep .q-select__input {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  caret-color: #ffffff !important;
  background: transparent !important;
  box-shadow: none !important;
}

/* Placeholders */
.q-dialog .q-card ::v-deep input::placeholder,
.q-dialog .q-card ::v-deep textarea::placeholder,
.q-dialog .q-card ::v-deep .q-select__input::placeholder,
.q-dialog__inner ::v-deep input::placeholder,
.q-dialog__inner ::v-deep textarea::placeholder,
.q-dialog__inner ::v-deep .q-select__input::placeholder,
.q-menu ::v-deep input::placeholder,
.q-menu ::v-deep textarea::placeholder,
.q-menu ::v-deep .q-select__input::placeholder,
.q-select__popup ::v-deep input::placeholder,
.q-select__popup ::v-deep textarea::placeholder,
.q-select__popup ::v-deep .q-select__input::placeholder {
  color: rgba(255, 255, 255, 0.65) !important;
}

/* Prefix/suffix and icons */
.q-dialog .q-card ::v-deep .q-field__prefix,
.q-dialog .q-card ::v-deep .q-field__suffix,
.q-dialog__inner ::v-deep .q-field__prefix,
.q-dialog__inner ::v-deep .q-field__suffix,
.q-menu ::v-deep .q-field__prefix,
.q-menu ::v-deep .q-field__suffix,
.q-select__popup ::v-deep .q-field__prefix,
.q-select__popup ::v-deep .q-field__suffix,
.q-menu ::v-deep .q-icon,
.q-select__popup ::v-deep .q-icon {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Remove heavy borders/shadows from controls; draw borders centrally below */
body .q-dialog .q-card ::v-deep .q-field__control,
body .q-dialog ::v-deep input,
body .q-dialog ::v-deep textarea,
body .q-dialog ::v-deep .q-select__input,
body .q-select ::v-deep .q-field__control,
.group-select--header ::v-deep .q-field__control,
.group-select--header ::v-deep .q-select__control {
  border: none !important;
  box-shadow: none !important;
  background-image: none !important;
}

/* Specific high-precedence fixes observed in DevTools */
body .q-dialog ::v-deep .q-select__focus-target,
body .q-dialog ::v-deep input.q-select__focus-target,
body .q-dialog ::v-deep input[type='color'] {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  caret-color: #ffffff !important;
  background: transparent !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Ensure grouped select choices and header field text are white */
.q-header .q-field__native .ellipsis {
  color: #fff !important;
  -webkit-text-fill-color: #ffffff !important;
}

/* Centralized border: replace Quasar's default outlined pseudo-element */
.q-field--outlined .q-field__control::before {
  border: 1px solid rgba(255, 255, 255, 0.32) !important;
  background: transparent !important;
  box-shadow: none !important;
}

/* Keep focused state subtle */
html body .q-dialog ::v-deep .q-field--focused .q-field__control,
html body .q-select ::v-deep .q-field--focused .q-field__control,
html body .group-select--header ::v-deep .q-field--focused .q-field__control {
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.04) !important;
}

/* Minor cleanup: ensure popups/dialogs keep white text by default */
.q-menu,
.q-select__popup,
.q-popover,
.q-dialog__inner {
  color: #ffffff !important;
}

/* Force outlined field pseudo-element borders to white */
.q-field--outlined .q-field__control::before,
.q-field--outlined .q-field__control:before,
.q-field--outlined .q-field__control::after,
.q-field--outlined .q-field__control:after {
  border: 1px solid rgba(255, 255, 255, 0.95) !important;
  background: transparent !important;
  box-shadow: none !important;
}
/* Hover/focus variants */
.q-field--outlined .q-field__control:hover::before,
.q-field--outlined .q-field__control:hover:before,
.q-field--outlined.q-focused .q-field__control::before {
  border-color: rgba(255, 255, 255, 0.95) !important;
}
/* TASK-LIST BLUE applied to the q-field container (keeps native inputs transparent) */
/* Do NOT touch .q-menu or .q-select__popup (expanded options) */
html body .q-select .q-field,
html body .group-select--header .q-field,
html body .q-dialog .q-card .q-field,
html body .q-dialog__inner .q-field {
  background: #26b !important;
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  caret-color: #ffffff !important;
  box-shadow: none !important;
}
/* keep placeholders readable */
html body .group-select--header input::placeholder,
html body .group-select--header textarea::placeholder,
html body .group-select--header .q-select__input::placeholder,
html body .q-dialog .q-card input::placeholder,
html body .q-dialog .q-card textarea::placeholder {
  color: rgba(255, 255, 255, 0.65) !important;
}
